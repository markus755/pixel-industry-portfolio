# Netlify Configuration
# Audio Pre-Generation Setup

[build]
  command = "npm install && npm run build:audio"
  publish = "."
  environment = { NODE_VERSION = "18" }

# Cache Plugin - Speichert /audio/ zwischen Builds!
[[plugins]]
  package = "@netlify/plugin-cache"

  [plugins.inputs]
    paths = ["audio"]

# Audio-Verzeichnis Headers
[[headers]]
  for = "/audio/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"
    Access-Control-Allow-Origin = "*"

# Netlify Functions
[functions]
  directory = "netlify/functions"